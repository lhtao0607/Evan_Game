<!DOCTYPE html>
<html>
<head>
  <title>My Website</title>
  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
    }

    canvas {
      background: #222;
      display: block;
      margin: 20px auto;
      border: 2px solid white;
    }
  </style>
</head>
<body>

<h1>Hello, Evan and Mason!</h1>
<p>This site is hosted on GitHub Pages.</p>

<button onclick="window.location.href='https://www.crazygames.com'">Play Games</button>

<br><br>

<!-- PS5 Image -->
<img src="ps5.jpg" id="PS5" alt="PS5" width="500" height="333">
<br><br>
<button onclick="hideImage()">Hide Image</button>
<button onclick="showImage()">Show Image</button>

<hr>

<!-- Tank Game -->
<h2>Tank Game ðŸš“</h2>
<p>Use Arrow Keys to Move â€¢ Space to Shoot Aliens</p>
<canvas id="game" width="600" height="400"></canvas>

<script>
  /* IMAGE FUNCTIONS */
  function hideImage() { document.getElementById("PS5").style.display = "none"; }
  function showImage() { document.getElementById("PS5").style.display = "block"; }

  /* TANK GAME */
  const canvas = document.getElementById("game");
  const ctx = canvas.getContext("2d");

  const tank = { x: 280, y: 350, size: 30, speed: 4 };
  const bullets = [];
  const keys = {};

  // Aliens
  const aliens = [];
  const alienCount = 5;
  for (let i = 0; i < alienCount; i++) {
    aliens.push({
      x: Math.random() * 550,
      y: Math.random() * 200,
      size: 30
    });
  }

  // Keyboard controls
  document.addEventListener("keydown", e => {
    keys[e.key] = true;
    if (e.key === " ") {
      bullets.push({
        x: tank.x + tank.size / 2 - 3,
        y: tank.y,
        speed: 6
      });
    }
  });

  document.addEventListener("keyup", e => { keys[e.key] = false; });

  function update() {
    // Move tank
    if (keys["ArrowUp"] && tank.y > 0) tank.y -= tank.speed;
    if (keys["ArrowDown"] && tank.y < canvas.height - tank.size) tank.y += tank.speed;
    if (keys["ArrowLeft"] && tank.x > 0) tank.x -= tank.speed;
    if (keys["ArrowRight"] && tank.x < canvas.width - tank.size) tank.x += tank.speed;

    // Move bullets
    bullets.forEach(b => b.y -= b.speed);

    // Collision detection for aliens
    bullets.forEach((b, bi) => {
      aliens.forEach((alien, ai) => {
        if (
          b.x > alien.x &&
          b.x < alien.x + alien.size &&
          b.y > alien.y &&
          b.y < alien.y + alien.size
        ) {
          // Remove bullet
          bullets.splice(bi, 1);
          // Respawn alien
          alien.x = Math.random() * (canvas.width - alien.size);
          alien.y = Math.random() * 200;
        }
      });
    });

    // Remove off-screen bullets
    for (let i = bullets.length - 1; i >= 0; i--) {
      if (bullets[i].y < 0) bullets.splice(i, 1);
    }
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw tank
    ctx.fillStyle = "green";
    ctx.fillRect(tank.x, tank.y, tank.size, tank.size);
    ctx.fillRect(tank.x + 12, tank.y - 10, 6, 10); // gun

    // Draw aliens
    ctx.fillStyle = "red";
    aliens.forEach(alien => ctx.fillRect(alien.x, alien.y, alien.size, alien.size));

    // Draw bullets
    ctx.fillStyle = "yellow";
    bullets.forEach(b => ctx.fillRect(b.x, b.y, 6, 10));
  }

  function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
  }

  loop();
</script>

</body>
</html>
